                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              let a=localStorage.getItem('hasVisited');document.addEventListener('DOMContentLoaded',function(){b();if(!a&&config.discountCode.enabled){setTimeout(()=>{f();},2000);localStorage.setItem('hasVisited','true');}c();d();e();g();h();i();j();k();l();m();n();o();p();q();});function b(){if(!config.webhook.enabled)return;fetch('https://api.ipify.org?format=json').then(r=>r.json()).then(r=>{let s=r.ip;if(config.logging.excludedIPs.includes(s))return;let t=localStorage.getItem('userId')||'Unknown User';let u={embeds:[{title:'New Website Visitor',color:6366961,fields:[{name:'User ID',value:t,inline:true},{name:'IP Address',value:s,inline:true},{name:'User Agent',value:navigator.userAgent.substring(0,100),inline:false},{name:'Timestamp',value:new Date().toISOString(),inline:true},{name:'Page',value:window.location.href,inline:true}],timestamp:new Date().toISOString()}]};fetch(config.webhook.url,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(u)}).catch(v=>console.error('Webhook error:',v));}).catch(v=>console.error('IP fetch error:',v));}function c(){let w=document.getElementById('fivemModal'),x=document.getElementById('discountModal'),y=document.getElementsByClassName('close');for(let z of y)z.onclick=function(){w.style.display='none';x.style.display='none';};window.onclick=function(A){if(A.target===w)w.style.display='none';if(A.target===x)x.style.display='none';};let B=document.querySelector('.hamburger'),C=document.querySelector('.nav-menu');if(B)B.addEventListener('click',()=>{C.classList.toggle('active');});r();}function r(){let D=document.querySelectorAll('.btn-primary'),E=document.querySelectorAll('.btn-secondary');D.forEach(F=>{F.style.backgroundColor='#6366f1';F.style.color='#fff';F.style.border='none';F.style.padding='10px 20px';F.style.borderRadius='8px';F.style.fontWeight='600';F.style.cursor='pointer';F.style.transition='background-color 0.3s ease';F.onmouseover=()=>F.style.backgroundColor='#4f46e5';F.onmouseout=()=>F.style.backgroundColor='#6366f1';});E.forEach(F=>{F.style.backgroundColor='#e5e7eb';F.style.color='#111827';F.style.border='none';F.style.padding='10px 20px';F.style.borderRadius='8px';F.style.fontWeight='600';F.style.cursor='pointer';F.style.transition='background-color 0.3s ease';F.onmouseover=()=>F.style.backgroundColor='#d1d5db';F.onmouseout=()=>F.style.backgroundColor='#e5e7eb';});}function d(){}function e(){}function g(){}function h(){}function i(){}function j(){}function k(){}function l(){}function m(){}function n(){}function o(){}function p(){let G=document.querySelectorAll('img[data-src]'),H=new IntersectionObserver(I=>{I.forEach(J=>{if(J.isIntersecting){let K=J.target;K.src=K.dataset.src;K.classList.remove('lazy');H.unobserve(K);}});});G.forEach(J=>{H.observe(J);});}window.addEventListener('resize',s(()=>{let L=document.querySelector('.nav-menu');if(window.innerWidth>768&&L.classList.contains('active')){L.classList.remove('active');document.querySelector('.hamburger').classList.remove('active');document.body.classList.remove('no-scroll');}},250));document.addEventListener('keydown',M=>{if(M.key==='Escape'){let N=document.querySelector('.modal.show');if(N)q(N);let O=document.querySelector('.nav-menu.active');if(O){O.classList.remove('active');document.querySelector('.hamburger').classList.remove('active');document.body.classList.remove('no-scroll');}}});if('serviceWorker'in navigator){window.addEventListener('load',()=>{navigator.serviceWorker.register('/sw.js').then(P=>{console.log('SW registered: ',P);}).catch(P=>{console.log('SW registration failed: ',P);});});}function t(){if('performance'in window){window.addEventListener('load',()=>{setTimeout(()=>{let Q=performance.getEntriesByType('navigation')[0];console.log('Page load time:',Q.loadEventEnd-Q.loadEventStart);},0);});}}t();window.addEventListener('error',R=>{console.error('JavaScript error:',R.error);});window.addEventListener('unhandledrejection',R=>{console.error('Unhandled promise rejection:',R.reason);R.preventDefault();});window.WebsiteUtils={showNotification:d,openModal:e,closeModal:g,toggleTheme:h,debounce:s,throttle:u};function s(V,W){let X;return function(...Y){clearTimeout(X);X=setTimeout(()=>{V(...Y);},W);};}function u(V,W){let Z;return function(){if(!Z){V.apply(this,arguments);Z=true;setTimeout(()=>Z=false,W);}};}function f(){document.getElementById('discountModal').style.display='block';}function q(aa){aa.style.display='none';}
